<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>

  <body>
    <h1>Welcome to JS Tutorials</h1>
    <hr />
    <label for="search">Search: </label>
    <input type="text" id="search" onblur="search()" />

    <div>
        <h3>Search Results: </h3>
      <ul id="searchResults"></ul>
      <hr/>
        <h3>All Records</h3>
      <ul id="students"></ul>
    </div>

    <script>
      function search() {
        var searchText = document.getElementById("search").value;

        var searchResults = students.filter((x) => {
          return x.name.toLowerCase().search(searchText.toLowerCase()) >= 0;
        });

        console.log(searchResults);

        var el = document.getElementById("searchResults");
        var resultHtml = "";

        searchResults.forEach((element) => {
          resultHtml += "<li>" + element.name + "</li>";
        });

        el.innerHTML = resultHtml;
      }

      var students = [
        {
          id: "1",
          name: "Gaurav Luthra",
          roll_no: "1",
          class: "First",
        },
        {
          id: "1",
          name: "Gaurav Madaan",
          roll_no: "1",
          class: "First",
        },
        {
          id: "2",
          name: "Rishi Gautam",
          roll_no: "2",
          class: "Second",
        },
        {
          id: "3",
          name: "Gurpreet",
          roll_no: "4",
          class: "Third",
        },
        {
          id: "4",
          name: "Jasmine",
          roll_no: "5",
          class: "Fourth",
        },
      ];

      var el = document.getElementById("students");
      var resultHtml = "";

      students.forEach((element) => {
        resultHtml += "<li>" + element.name + "</li>";
      });

      el.innerHTML = resultHtml;
    </script>
  </body>
</html>
